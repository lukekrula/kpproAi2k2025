-- H2 2.4.240; 
;              
CREATE USER IF NOT EXISTS "SA" SALT '4ca5fe609810fa92' HASH 'c338c293ed6d0b9f1b4a6aea7c23e48b149e9d0fa23bd77663f84097e2115d2c' ADMIN;          
CREATE CACHED TABLE "PUBLIC"."PROGRAM"(
    "ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1 RESTART WITH 11) NOT NULL,
    "AMOUNT_MAX" INTEGER,
    "NAME" CHARACTER VARYING(255),
    "PARTNER_ID" BIGINT,
    "CREATOR_COMMUNITY_ID" BIGINT,
    "DESCRIPTION" CHARACTER VARYING(255),
    "MANAGER_ID" BIGINT
); 
ALTER TABLE "PUBLIC"."PROGRAM" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_18" PRIMARY KEY("ID");      
-- 9 +/- SELECT COUNT(*) FROM PUBLIC.PROGRAM;  
INSERT INTO "PUBLIC"."PROGRAM" VALUES
(1, 5000, 'AI seminar', NULL, 2, 'negative effects of overusing ai tools', 3),
(2, 100, 'Generic H2 (Embedded)', NULL, 2, 'H2 generic', 3),
(3, 3000, 'tadaaa', NULL, 2, 'dalsi prednaska', 3),
(4, 50000, 'koncert Vlach', NULL, 2, 'tadadatda', 3),
(5, 3455, 'dfsdfsdfs', NULL, 3, 'dsfsggdthyhyy', 3),
(6, 90000, 'Remeslny trh', NULL, 4, 'Remeslny trh s komunitnimi remeslniky', 6),
(7, 2000, 'Varhanni koncert', NULL, 4, 'Sehnat havrany', 6),
(8, 8000, 'Novy super program', NULL, 2, 'je to dalsi pokus', 6),
(9, 200, 'NovyJossihoPrg', NULL, 2, 'zkouska', 6);            
ALTER TABLE "PUBLIC"."PROGRAM" ADD CONSTRAINT "PUBLIC"."FK_PROGRAM_MANAGER" FOREIGN KEY("MANAGER_ID") REFERENCES "PUBLIC"."MEMBER"("ID") NOCHECK;              
ALTER TABLE "PUBLIC"."PROGRAM" ADD CONSTRAINT "PUBLIC"."FK_PROGRAM_CREATOR" FOREIGN KEY("CREATOR_COMMUNITY_ID") REFERENCES "PUBLIC"."COMMUNITY"("ID") NOCHECK; 
ALTER TABLE "PUBLIC"."PROGRAM" ADD CONSTRAINT "PUBLIC"."FKOW2W94LY6REC7RMC15S4K7IYU" FOREIGN KEY("PARTNER_ID") REFERENCES "PUBLIC"."PARTNER"("ID") NOCHECK;    
